(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1a45fce8"],{"0448":function(t,e,a){"use strict";var s=a("b5f6"),o=a.n(s);o.a},"1ada":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"register__container ma-0 pa-0",attrs:{fluid:"","align-center":"","grid-list-md":"","text-xs-center":""}},[a("v-layout",{staticClass:"register__layout  ma-0 pa-0",attrs:{wrap:"",row:""}},[a("v-flex",{staticClass:"register__col-1",attrs:{xs12:"",sm12:"",md6:""}},[a("v-layout",{staticClass:"register__col-filler hidden-sm-and-down",attrs:{wrap:""}}),a("v-layout",{staticClass:"hidden-sm-and-down",attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm7:"",lg6:"","offset-md2":"","offset-lg5":""}},[a("div",{staticClass:"login__info"},[a("p",{staticClass:"login__info-text "},[t._v("\n                            With an account you will get access to information how much youâ€™ve contributed to\n                            fighting climate\n                            change\n                        ")])])])],1)],1),a("v-flex",{attrs:{xs12:"",sm12:"",md6:"",lg4:""}},[a("v-layout",{staticClass:"hidden-sm-and-down pa-5",attrs:{"justify-center":"","align-center":"",column:"",wrap:""}}),a("v-layout",{staticClass:"register__layout-form pa-5",attrs:{"justify-center":"","align-center":"",column:"",wrap:""}},[a("v-flex",{staticClass:"register__form-mb",attrs:{"justify-center":"","align-center":"",column:"",wrap:"",xs12:"",lg4:""}},[a("form",{staticClass:"login__form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("div",{staticClass:"login__header-group"},[a("p",{staticClass:"login__form-header"},[t._v("Account")]),a("p",{staticClass:"login__form-title"},[t._v("Make an account to get access to more info!")])]),a("transition",{attrs:{"enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut",mode:"out-in"}},[t.next?a("div",{key:"secondSlide",staticClass:"login__group"},[a("label",{staticClass:"login__group"},[a("div",[t._v("Webshop link"),a("span",{staticClass:"asterik"},[t._v("*")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.link,expression:"link"}],staticClass:"login__group-input",attrs:{type:"text",placeholder:"Your company link"},domProps:{value:t.link},on:{input:function(e){e.target.composing||(t.link=e.target.value)}}})]),a("label",{staticClass:"login__group"},[a("div",[t._v("Country"),a("span",{staticClass:"asterik"},[t._v("*")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.country,expression:"country"}],staticClass:"login__group-input",attrs:{type:"text",placeholder:"Your country"},domProps:{value:t.country},on:{input:function(e){e.target.composing||(t.country=e.target.value)}}})]),a("div",{staticClass:"login__group-wrapper"},[a("label",{staticClass:"login__group"},[a("div",[t._v("City"),a("span",{staticClass:"asterik"},[t._v("*")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.city,expression:"city"}],staticClass:"login__group-input",attrs:{type:"text",placeholder:"City"},domProps:{value:t.city},on:{input:function(e){e.target.composing||(t.city=e.target.value)}}})]),a("label",{staticClass:"login__group"},[a("div",[t._v("Zip-code"),a("span",{staticClass:"asterik"},[t._v("*")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.zipcode,expression:"zipcode"}],staticClass:"login__group-input",attrs:{type:"text",placeholder:"Your ZIP-code"},domProps:{value:t.zipcode},on:{input:function(e){e.target.composing||(t.zipcode=e.target.value)}}})])]),a("div",{staticClass:"login__group-wrapper"},[a("label",{staticClass:"login__group"},[a("div",[t._v("Street"),a("span",{staticClass:"asterik"},[t._v("*")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.street,expression:"street"}],staticClass:"login__group-input",attrs:{type:"text",placeholder:"Your street"},domProps:{value:t.street},on:{input:function(e){e.target.composing||(t.street=e.target.value)}}})]),a("label",{staticClass:"login__group"},[a("div",[t._v("Number"),a("span",{staticClass:"asterik"},[t._v("*")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.number,expression:"number"}],staticClass:"login__group-input",attrs:{type:"text",placeholder:"Housenumber"},domProps:{value:t.number},on:{input:function(e){e.target.composing||(t.number=e.target.value)}}})])]),a("div",{staticClass:"login__group login__accept"},[a("v-checkbox",{staticClass:"accept-box",attrs:{value:"true",color:"success"},model:{value:t.consent,callback:function(e){t.consent=e},expression:"consent"}}),a("a",{attrs:{target:"_blank",href:"https://www.co2ok.eco/privacy"}},[t._v("I accept the terms and agreements")])],1)]):a("div",{key:"firstSlide",staticClass:"login__group",staticStyle:{"animation-delay":"0.3s"}},[a("label",{staticClass:"login__group"},[a("div",[t._v("Company name"),a("span",{staticClass:"asterik"},[t._v("*")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.company,expression:"company"}],staticClass:"login__group-input",attrs:{type:"email",placeholder:"Fill in your company name..."},domProps:{value:t.company},on:{input:function(e){e.target.composing||(t.company=e.target.value)}}})]),a("label",{staticClass:"login__group"},[a("div",[t._v("E-mail"),a("span",{staticClass:"asterik"},[t._v("*")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"login__group-input",attrs:{type:"email",placeholder:"Fill in your email..."},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),a("div",{staticClass:"login__group-password"},[a("label",{staticClass:"login__group"},[a("div",[t._v("Password"),a("span",{staticClass:"asterik"},[t._v("*")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"login__group-input",attrs:{type:"password",placeholder:"Fill in your password..."},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),a("div",{staticClass:"login__group-password"},[a("label",{staticClass:"login__group"},[a("div",[t._v("Repeat password"),a("span",{staticClass:"asterik"},[t._v("*")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.passwordRepeat,expression:"passwordRepeat"}],staticClass:"login__group-input",attrs:{type:"password",placeholder:"Fill in you password..."},domProps:{value:t.passwordRepeat},on:{input:function(e){e.target.composing||(t.passwordRepeat=e.target.value)}}})])])])]),a("div",{staticClass:"register__button-group ",staticStyle:{"animation-delay":"0.6s"}},[t.next?a("button",{staticClass:"button button-empty",on:{click:function(e){t.next=!1}}},[a("span",[t._v(" Back")])]):t._e(),t.next?a("button",{staticClass:"button",attrs:{type:"submit"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.merchant_idChecker()},click:function(e){return e.preventDefault(),t.merchant_idChecker()}}},[!1===t.send?a("span",[t._v("Make an account")]):a("v-progress-circular",{attrs:{indeterminate:"",color:"white"}})],1):a("button",{staticClass:"button",on:{click:function(e){e.preventDefault(),t.next=!0}}},[a("span",[t._v("Next")])])])],1)])],1),a("v-layout",{staticClass:"hidden-sm-and-down pa-5",attrs:{"justify-center":"","align-center":"",column:"",wrap:""}})],1)],1)],1)},o=[],n=(a("b54a"),a("7f7f"),a("bc3a"),a("2b0e")),i=a("ce5b"),r=a.n(i);a("bf40");n["default"].use(r.a);var c={name:"Register",props:{msg:String},data:function(){return{company:"",password:"",passwordRepeat:"",name:"",email:"",link:"",country:"",city:"",zipcode:"",street:"",number:"",next:!1,send:!1,valid:!1,consent:""}},created:function(){this.getMerchantData(),this.keyupEnter()},mounted:function(){},methods:{errorMessage:function(){this.send=!1;var t={message:"Something went wrong...",status:!0};this.$store.commit("modalStatus",t)},merchant_idChecker:function(){var t=this,e=this.$route.params.merchantId;this.$axios.post("".concat(this.$store.state.SITE_HOST,"/merchantIdChecker/"),{body:{merchantId:e}}).then(function(e){e.data[0].accountIdCheck&&e.data[1].dynamoIdCheck>0?t.register():alert("deze id is al gekkopeld aan een account of is niet geldig")}).catch(function(e){console.log(e);var a={title:"Something went wrong...",text:"Incorrect URL."};t.$store.commit("modalStatus",{message:a})})},getMerchantData:function(){var t=this.$route.params.merchantId,e=this;this.$axios.post("".concat(this.$store.state.SITE_HOST,"/merchant_data/"),{body:{merchantId:t}}).then(function(t){if(t.data.idCheck){var a=t.data,s=t.data.adress_data;e.company=a.name,e.email=a.email,e.link=a.link,t.data.adress_data.place_id?(e.country=s.country,e.city=s.locality,e.zipcode=s.postal_code,e.street=s.route,e.number=s.street_number):alert("We are not able to get your adress data from google api.")}else alert("Merchant id not valid")}).catch(function(t){console.log(t)})},storeTransactionsData:function(){var t,e=this;t=this.$store.state.userData.userdata.is_superuser?"":this.$store.state.userData.profileData.merchantId,this.$axios.get("".concat(this.$store.state.SITE_HOST,"/user/store_transactions_data/"),{params:{merchantId:t,userStatus:e.$store.state.userData.userdata.is_superuser},headers:{"X-CSRFToken":"".concat(e.$store.state.userToken),Authorization:"token ".concat(window.localStorage.getItem("userToken"))}}).then(function(t){console.log(t.data)}).catch(function(t){console.log(t)})},getUserData:function(){var t=this;window.localStorage.getItem("Authenticated")?this.$axios.get("".concat(this.$store.state.SITE_HOST,"/user/userData/"),{params:{id:window.localStorage.getItem("userId")},headers:{"X-CSRFToken":"".concat(t.$store.state.userToken),Authorization:"token ".concat(window.localStorage.getItem("userToken"))}}).then(function(e){if(e.data.authData)t.$store.commit("getUserData",e.data),t.storeTransactionsData();else{var a={title:"Something went wrong....",text:"Incorrect user credentials"};t.$store.commit("modalStatus",{message:a}),console.log("user should be redirect to the login page")}}).catch(function(t){console.log(t)}):console.log("not authenticated")},register:function(){var t=this,e=this;if(this.send=!0,""!==this.consent&&""!==this.email&&""!==this.password&&""!==this.passwordRepeat&&""!==this.company&&this.password===this.passwordRepeat&&""!==this.link&&""!==this.country&&""!==this.city&&""!==this.zipcode&&""!==this.street&&""!==this.number)this.$axios.post("".concat(this.$store.state.SITE_HOST,"/signup/"),{body:{username:this.company,email:this.email,password:this.password,link:this.link,country:this.country,city:this.city,zipcode:this.zipcode,street:this.street,number:this.number,sort:"webshop",name:this.name,merchantId:this.$route.params.merchantId}}).then(function(a){if(a)if(t.send=!1,a.data.authenticate)t.$store.dispatch("commitSaveUser",a.data),t.$store.state.status="webshop",t.$store.state.Authenticated=!0,t.$store.commit("setLocalUserData",a.data),t.$store.commit("isLoggedIn",!0),e.getUserData(),e.$router.push("/webshops/dashboard");else{var s={title:"Something went wrong...",text:a.data.error};t.$store.commit("modalStatus",{message:s})}}).catch(function(e){var a={title:"Something went wrong...",text:e};t.$store.commit("modalStatus",{message:a}),console.log(e)});else{var a={title:"Something went wrong...",text:"You did not fill in your form correctly."};this.$store.commit("modalStatus",{message:a})}},keyupEnter:function(){var t=this;window.addEventListener("keyup",function(e){13==e.keyCode&&""!==t.email&&""!==t.password&&(t.login(),t.email="",t.password="")})}}},l=c,u=(a("0448"),a("2877")),d=Object(u["a"])(l,s,o,!1,null,"70dc709d",null);e["default"]=d.exports},"386b":function(t,e,a){var s=a("5ca1"),o=a("79e5"),n=a("be13"),i=/"/g,r=function(t,e,a,s){var o=String(n(t)),r="<"+e;return""!==a&&(r+=" "+a+'="'+String(s).replace(i,"&quot;")+'"'),r+">"+o+"</"+e+">"};t.exports=function(t,e){var a={};a[t]=e(r),s(s.P+s.F*o(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",a)}},b54a:function(t,e,a){"use strict";a("386b")("link",function(t){return function(e){return t(this,"a","href",e)}})},b5f6:function(t,e,a){}}]);
//# sourceMappingURL=chunk-1a45fce8.69b4ad9d.js.map